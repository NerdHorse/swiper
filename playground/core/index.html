<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Swiper demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  <!-- Demo styles -->
  <style>
    html,
    body {
      position: relative;
      height: 100%;
    }

    body {
      background:#2f3539;
      font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
      font-size: 14px;
      color: #000;
      margin: 0;
      padding: 0;
    }

    .swiper.mySwiper {
      width: 125px;
      height: 166px;
      padding-top: 50px;
      padding-bottom: 50px;
      perspective: calc(416px * 1.2);
    }
    .swiper.mySwiper .swiper-slide {
      background-position: center;
      background-size: cover;
      width: 125px;
      height: 166px;

        -webkit-transform-style: preserve-3d;
        transform-style: preserve-3d;
        position: relative;
        background: #1e272e;
        border-radius: 5px;
      box-shadow: inset 0 0 0 1px #000000;
    }
  </style>
</head>

<body>
<!-- Swiper -->
<div class="swiper mySwiper">
  <div class="swiper-wrapper">
    <div class="swiper-slide"><img data-src="https://picsum.photos/300/400?random=1" data-index="1" data-loading=""><div class="framebox-left"></div><div class="framebox-right"></div><div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>asdasd</div>

    <div class="swiper-slide">Slide 2</div>

    <div class="swiper-slide">Slide 3</div>
    <div class="swiper-slide">Slide 4</div>
    <div class="swiper-slide">Slide 5</div>
    <div class="swiper-slide">Slide 6</div>
    <div class="swiper-slide">Slide 7</div>
    <div class="swiper-slide">Slide 8</div>
    <div class="swiper-slide">Slide 9</div>


  </div>
  <div class="swiper-scrollbar"></div>
</div>

<!-- Swiper JS -->

<!-- Initialize Swiper -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script type="module">
  // // eslint-disable-next-line
  import 'swiper/swiper-bundle.css';

  // // eslint-disable-next-line
  import Swiper from 'swiper/swiper-bundle.mjs';
  var swiper = new Swiper(".mySwiper", {
    //allowTouchMove: false,
    effect: "custom-cards",
    gsap:gsap,
    slideShadows: true,
  });
  swiper.setOnClickToSlice()

  let nowIndex = 0
  document.addEventListener('keyup', function(event) {

    let nextIndex = nowIndex;

    // Verifica se a tecla 'left' ou 'right' foi solta
    if (event.key === 'ArrowLeft') {
      nextIndex++;
      // Execute qualquer ação desejada aqui
    } else if (event.key === 'ArrowRight') {
      nextIndex--;
      // Execute qualquer ação desejada aqui
    }
    nextIndex = nextIndex< 0? 0 : nextIndex;
    nextIndex = nextIndex > swiper.snapGrid.length-1 ? swiper.snapGrid.length-1 : nextIndex;

    nowIndex = nextIndex;
    let temp = {
      i:swiper.getTranslate(),
      f:-swiper.snapGrid[nextIndex]
    };
    swiper.updateProgress(temp.f);
    swiper.transitionStart(true, swiper.swipeDirection);
    swiper.animating = true;
    console.log(nowIndex,nextIndex);

    let tweenBounce = gsap.to(temp,{
      i:temp.f,
      duration:1000/1000,
      onUpdate:()=>{
        swiper.setTranslate(temp.i);
      },
      onComplete:()=>{
        if (!swiper || swiper.destroyed) return;
        swiper.setTranslate(temp.f);
        swiper.transitionEnd();
      },

    });

  });

  /*let cards = $(".swiper-slide").on("click",(e)=>{

    swiper.slideTo($(e.currentTarget).data("index"));
  })*/

</script>
</body>

</html>

